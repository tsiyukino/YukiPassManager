<ui:FluentWindow x:Class="YukiManager.Windows.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
        xmlns:tb="http://www.hardcodet.net/taskbar"
        Title="Yuki Manager"
        Width="1200" Height="700"
        MinWidth="900" MinHeight="600"
        WindowStartupLocation="CenterScreen"
        ExtendsContentIntoTitleBar="True">
    
    <Grid x:Name="RootGrid">
        <!-- System Tray Icon -->
        <tb:TaskbarIcon x:Name="SystemTrayIcon"
                        IconSource="pack://application:,,,/icon.ico"
                        ToolTipText="Yuki Manager"
                        TrayMouseDoubleClick="SystemTrayIcon_TrayMouseDoubleClick">
            <tb:TaskbarIcon.ContextMenu>
                <ContextMenu>
                    <MenuItem Header="Show" Click="ShowWindow_Click">
                        <MenuItem.Icon>
                            <ui:SymbolIcon Symbol="WindowNew24"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem Header="Lock Vault" Click="LockVault_Click">
                        <MenuItem.Icon>
                            <ui:SymbolIcon Symbol="LockClosed24"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    <Separator/>
                    <MenuItem Header="Exit" Click="Exit_Click">
                        <MenuItem.Icon>
                            <ui:SymbolIcon Symbol="Dismiss24"/>
                        </MenuItem.Icon>
                    </MenuItem>
                </ContextMenu>
            </tb:TaskbarIcon.ContextMenu>
        </tb:TaskbarIcon>

        <ui:NavigationView x:Name="NavigationView"
                          PaneDisplayMode="Left"
                          IsPaneToggleVisible="True"
                          OpenPaneLength="180"
                          IsBackButtonVisible="Collapsed"
                          SelectionChanged="NavigationView_SelectionChanged"
                          TitleBar="{Binding ElementName=TitleBar}">
            
            <!-- Menu Items -->
            <ui:NavigationView.MenuItems>
                <ui:NavigationViewItem Content="Home" 
                                      Tag="Home"
                                      Click="NavigationItem_Click"
                                      Icon="{ui:SymbolIcon Home24}"/>
                <ui:NavigationViewItem Content="Vault" 
                                      Tag="Vault"
                                      Click="NavigationItem_Click"
                                      Icon="{ui:SymbolIcon LockClosed24}"/>
            </ui:NavigationView.MenuItems>
            
            <!-- Footer Items -->
            <ui:NavigationView.FooterMenuItems>
                <ui:NavigationViewItem Content="Settings" 
                                      Tag="Settings"
                                      Click="NavigationItem_Click"
                                      Icon="{ui:SymbolIcon Settings24}"/>
                <ui:NavigationViewItem Content="Lock Vault" 
                                      Tag="Lock"
                                      Icon="{ui:SymbolIcon LockClosed24}"
                                      Click="LockVault_Click"/>
            </ui:NavigationView.FooterMenuItems>
            
        </ui:NavigationView>

        <ui:TitleBar x:Name="TitleBar" Title="Yuki Manager"/>
        
        <!-- ContentPresenter for dialogs -->
        <ContentPresenter x:Name="DialogPresenter" />
    </Grid>
</ui:FluentWindow>
