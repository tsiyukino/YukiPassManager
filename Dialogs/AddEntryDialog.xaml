<ui:FluentWindow x:Class="YukiManager.Dialogs.AddEntryDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
        Title="Add Entry"
        Height="650"
        Width="500"
        WindowStartupLocation="CenterOwner"
        ExtendsContentIntoTitleBar="True"
        WindowBackdropType="Mica"
        ResizeMode="NoResize">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <ui:TitleBar Grid.Row="0" Title="Entry Details"/>
        
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Margin="40,20">
            <StackPanel>
                <!-- Title -->
                <TextBlock Text="Title *" FontSize="14" Margin="0,0,0,8"/>
                <ui:TextBox x:Name="TitleInput" 
                           PlaceholderText="e.g., Gmail, Credit Card"
                           Margin="0,0,0,16"/>
                
                <!-- Type -->
                <TextBlock Text="Type" FontSize="14" Margin="0,0,0,8"/>
                <ComboBox x:Name="TypeComboBox" 
                         Margin="0,0,0,16"
                         SelectionChanged="TypeComboBox_SelectionChanged">
                    <ComboBoxItem Content="Password"/>
                    <ComboBoxItem Content="Secure Note"/>
                    <ComboBoxItem Content="Credit Card"/>
                </ComboBox>
                
                <!-- Password Fields -->
                <StackPanel x:Name="PasswordFields">
                    <TextBlock Text="Username / Email" FontSize="14" Margin="0,0,0,8"/>
                    <ui:TextBox x:Name="UsernameInput"
                               PlaceholderText="username@example.com"
                               Margin="0,0,0,16"/>
                    
                    <Grid Margin="0,0,0,16">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="Password" FontSize="14" Margin="0,0,0,8"/>
                            <ui:PasswordBox x:Name="PasswordInput" PlaceholderText="Password"/>
                        </StackPanel>
                        
                        <ui:Button Grid.Column="1"
                                  Content="Generate"
                                  Appearance="Secondary"
                                  Margin="8,26,0,0"
                                  Click="GeneratePassword_Click">
                            <ui:Button.Icon>
                                <ui:SymbolIcon Symbol="Key24"/>
                            </ui:Button.Icon>
                        </ui:Button>
                    </Grid>
                    
                    <TextBlock Text="Website URL" FontSize="14" Margin="0,0,0,8"/>
                    <ui:TextBox x:Name="UrlInput"
                               PlaceholderText="https://example.com"
                               Margin="0,0,0,16"/>
                </StackPanel>
                
                <!-- Note Fields -->
                <StackPanel x:Name="NoteFields" Visibility="Collapsed">
                    <TextBlock Text="Secure Note" FontSize="14" Margin="0,0,0,8"/>
                    <ui:TextBox x:Name="NotesInput"
                               PlaceholderText="Your encrypted note..."
                               TextWrapping="Wrap"
                               AcceptsReturn="True"
                               MinHeight="150"
                               Margin="0,0,0,16"/>
                </StackPanel>
                
                <!-- Credit Card Fields -->
                <StackPanel x:Name="CardFields" Visibility="Collapsed">
                    <TextBlock Text="Card Number" FontSize="14" Margin="0,0,0,8"/>
                    <ui:TextBox x:Name="CardNumberInput"
                               PlaceholderText="1234 5678 9012 3456"
                               Margin="0,0,0,16"/>
                    
                    <TextBlock Text="Cardholder Name" FontSize="14" Margin="0,0,0,8"/>
                    <ui:TextBox x:Name="CardHolderInput"
                               PlaceholderText="JOHN DOE"
                               Margin="0,0,0,16"/>
                    
                    <Grid Margin="0,0,0,16">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <StackPanel Grid.Column="0" Margin="0,0,8,0">
                            <TextBlock Text="Expiry Date" FontSize="14" Margin="0,0,0,8"/>
                            <ui:TextBox x:Name="ExpiryInput" PlaceholderText="MM/YY"/>
                        </StackPanel>
                        
                        <StackPanel Grid.Column="1" Margin="8,0,0,0">
                            <TextBlock Text="CVV" FontSize="14" Margin="0,0,0,8"/>
                            <ui:PasswordBox x:Name="CVVInput" PlaceholderText="123"/>
                        </StackPanel>
                    </Grid>
                </StackPanel>
                
                <!-- Notes (for all types) -->
                <TextBlock Text="Additional Notes (Optional)" FontSize="14" Margin="0,0,0,8"/>
                <ui:TextBox x:Name="NotesInput2"
                           PlaceholderText="Any additional information..."
                           TextWrapping="Wrap"
                           AcceptsReturn="True"
                           MinHeight="80"/>
            </StackPanel>
        </ScrollViewer>
        
        <!-- Action Buttons -->
        <Border Grid.Row="2" 
                Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                Padding="40,16">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <ui:Button Grid.Column="1"
                          x:Name="CancelButton"
                          Content="Cancel"
                          Appearance="Secondary"
                          Padding="24,10"
                          Margin="0,0,12,0"
                          Click="CancelButton_Click"/>
                
                <ui:Button Grid.Column="2"
                          x:Name="SaveButton"
                          Content="Add Entry"
                          Appearance="Primary"
                          Padding="24,10"
                          Click="SaveButton_Click">
                    <ui:Button.Icon>
                        <ui:SymbolIcon Symbol="Save24"/>
                    </ui:Button.Icon>
                </ui:Button>
            </Grid>
        </Border>
    </Grid>
</ui:FluentWindow>
